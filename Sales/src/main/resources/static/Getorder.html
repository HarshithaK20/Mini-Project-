<html>
<head>
<h1>ORDERLIST TABLE</h1>
           <link rel="stylesheet" href="styles.css">
</head>
<body onload="myFunction()">




<script>
function myFunction() {

       	debugger;
       	
       
       	var table = document.createElement("TABLE");
       	 table.setAttribute("id", "myTable");
         document.body.appendChild(table);

       	 var header = table.createTHead();
       	 
       	 var row = header.insertRow(0);
         row.setAttribute("id","TableHead")
 	       var cell1 = row.insertCell(0);
 	       var cell2 = row.insertCell(1);
 	       var cell3 = row.insertCell(2);
 	       var cell4 = row.insertCell(3);
 	       
 	       
 	       
 	       cell1.innerHTML = "OID";
 	       cell2.innerHTML = "TOTALPRICE";
 	       cell3.innerHTML = "CID";
 	       cell4.innerHTML = "PID";
       	
 	       var xmlhttp = new XMLHttpRequest();
       	
        xmlhttp.onreadystatechange = function()
       	{
       	   if (xmlhttp.readyState == 4 && xmlhttp.status == 200)
       	   {
       	       //Use parse() method to convert JSON string to JSON object
       	       //console.log(responseText);
       	       
       	       
       	       var jsonobj = JSON.parse(this.responseText);
       	    //document.getElementById("allcustomer").innerHTML = this.responseText;
       	   	
       	   	for (let i = 0; i < jsonobj.length; i++) {
       	       const item=jsonobj[i];
       	       var table = document.getElementById("myTable");
       	       
       	       
       	       var row = table.insertRow(-1);
       	       var cell1 = row.insertCell(0);
       	       var cell2 = row.insertCell(1);
       	       var cell3 = row.insertCell(2);
       	       var cell4 = row.insertCell(3);
       	       
       	       
       	       cell1.innerHTML = item.oid;
       	       cell2.innerHTML = item.totalprice;
       	       cell3.innerHTML = item.customer.id;
       	       cell4.innerHTML = item.product.pid;
       	   	}
       	       
       	      // document.getElementById("list").innerhtml = item.id;
       	   	
       	   	
       	   }
       	};
       	
       	xmlhttp.open("GET", "http://localhost:8080/getorder", true);
       	
       	xmlhttp.send();
       }

   
   
       </script>


</body>
</html>